<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link rel="stylesheet" type="text/css" href="canvas.css">
</head>
<body >
  <div class="wrapper">
      <div id="instructions">
        <div>
          move with <span class="key">arrows</span> 
        </div>
        <div>
          shoot with <span class="key">space</span>
        </div>
      </div>
</div>

  <canvas id="canvas" width="1200" height="630"></canvas>
<script>
var demo =document.getElementById('canvas');
var ctx = demo.getContext('2d');
ctx.beginPath();
  ctx.lineWidth = "0.5";
  ctx.strokeStyle = "#CCFFFF";
  ctx.rect(0, 0, 1200,170);
  ctx.fillStyle = "#CCFFFF";
  ctx.fill();
  ctx.stroke();
  ctx.closePath();

//cloud
  ctx.beginPath();
    ctx.lineWidth="40";
    ctx.moveTo(0,130);
    ctx.bezierCurveTo(0,150,50,170,100,250);
    ctx.bezierCurveTo(100,250,150,190,200,250); 
    ctx.bezierCurveTo(200,250,240,190,280,230);
    ctx.bezierCurveTo(280,230,400,50,520,250);
    ctx.bezierCurveTo(520,250,580,190,640,250);
    ctx.bezierCurveTo(640,250,740,100,840,250);
    ctx.bezierCurveTo(840,250,900,170,960,270);
    ctx.bezierCurveTo(960,270,1020,200,1080,250);
    ctx.bezierCurveTo(1080,250,1100,150,1200,150);
    ctx.fillStyle="#CCFFFF";
    ctx.strokeStyle="white";
    ctx.fill();
    ctx.stroke();
var img = new Image();

// User Variables - customize these to change the image being scrolled, its
// direction, and the speed.

img.src = 'background.jpg';
var CanvasXSize = 1200;
var CanvasYSize = 630;
var speed = 8; // lower is faster
var scale = 1.05;
var y = 530; // vertical offset

// Main program

var dx = 0.75;
var imgW;
var imgH;
var x = 1200;
var clearX;
var clearY;
var ctx;

img.onload = function() {
    
    if (imgW > CanvasXSize) {
        // image larger than canvas
        x = CanvasXSize - imgW;
    }
    if (imgW > CanvasXSize) {
        // image width larger than canvas
        clearX = imgW;
    } else {
        clearX = CanvasXSize;
    }
    if (imgH > CanvasYSize) {
        // image height larger than canvas
        clearY = imgH;
    } else {
        clearY = CanvasYSize;
    }
    
    // get canvas context
    ctx = document.getElementById('canvas').getContext('2d');
 
    // set refresh rate
    return setInterval(draw, speed);
}

function draw() {
    ctx.clearRect(0, 0, clearX, clearY); // clear the canvas
    imgW = img.width * scale;
    imgH = img.height * scale;
    ctx.beginPath();
    ctx.lineWidth = "0.5";
    ctx.strokeStyle = "#CCFFFF";
    ctx.rect(0, 0, 1200,170);
    ctx.fillStyle = "#CCFFFF";
    ctx.fill();
    ctx.stroke();
    ctx.closePath();

//cloud
    ctx.beginPath();
    ctx.lineWidth="30";
    ctx.moveTo(0,130);
    ctx.bezierCurveTo(0,150,50,170,100,250);
    ctx.bezierCurveTo(100,250,150,190,200,250); 
    ctx.bezierCurveTo(200,250,240,190,280,230);
    ctx.bezierCurveTo(280,230,400,50,520,250);
    ctx.bezierCurveTo(520,250,580,190,640,250);
    ctx.bezierCurveTo(640,250,740,100,840,250);
    ctx.bezierCurveTo(840,250,900,170,960,270);
    ctx.bezierCurveTo(960,270,1020,200,1080,250);
    ctx.bezierCurveTo(1080,250,1100,150,1200,150);
    ctx.fillStyle="#CCFFFF";
    ctx.strokeStyle="white";
    ctx.fill();
    ctx.stroke();

    //mountain
    ctx.beginPath();
    ctx.lineWidth="1";
    ctx.moveTo(0,500);
    ctx.bezierCurveTo(0,500,100,460,200,500);
    ctx.bezierCurveTo(200,500,400,350,600,500); 
    ctx.bezierCurveTo(600,500,700,430,800,500);
    ctx.bezierCurveTo(800,500,1000,380,1200,500);
    ctx.fillStyle="#BCD4E0";
    ctx.fill();
    ctx.stroke();
    //mountain
    ctx.beginPath();
    ctx.lineWidth="0.1";
    ctx.strokeStyle="#BCD4E0";
    ctx.rect(0, 500, 1200,130);
    ctx.fillStyle = "#BCD4E0";
    ctx.fill();
    ctx.stroke();
    ctx.closePath();


    //tree1
    ctx.beginPath();
    ctx.lineWidth="1";
    //ctx.moveTo(90,420);
    //ctx.bezierCurveTo(70,420,70,400,90,400);
    //ctx.bezierCurveTo(80,380,80,360,100,380);
    //ctx.bezierCurveTo(100,360,120,360,120,380);
    //ctx.bezierCurveTo(140,370,140,400,120,400);
    //ctx.bezierCurveTo(140,400,140,420,120,420);
    ctx.fillStyle="#BCD4E0#BCD4E0";
    ctx.fill();
    ctx.stroke();
    ctx.beginPath();
    ctx.rect(100,420,10,60);
    ctx.fillStyle="#BCD4E0";
    ctx.fill();
    ctx.stroke();

    //tree2
    ctx.beginPath();
    ctx.lineTo(380, 390);
    //**ctx.moveTo(0,500);
    //ctx.bezierCurveTo(0,500,100,460,200,500);
    //ctx.bezierCurveTo(200,500,400,350,600,500); 
    //ctx.bezierCurveTo(600,500,700,430,800,500);
    //ctx.bezierCurveTo(800,500,1000,380,1200,500);
    ctx.strokeStyle="#BCD4E0";
    ctx.fillStyle="#BCD4E0";
    ctx.fill();
    ctx.stroke();
    ctx.beginPath();
    ctx.rect(380,390,10,45);
    ctx.fillStyle="#BCD4E0";
    ctx.fill();
    ctx.stroke();

  //tree3
    ctx.beginPath();
    //**ctx.moveTo(680, 400);
    //ctx.bezierCurveTo(0,500,100,460,200,500);
    //ctx.bezierCurveTo(200,500,400,350,600,500); 
    //ctx.bezierCurveTo(600,500,700,430,800,500);
    //ctx.bezierCurveTo(800,500,1000,380,1200,500);
    ctx.strokeStyle="#BCD4E0";
    ctx.fillStyle="#BCD4E0";
    ctx.fill();
    ctx.stroke();
    ctx.beginPath();
    ctx.rect(680, 400,10,70);
    ctx.fillStyle="#BCD4E0";
    ctx.fill();
    ctx.stroke();

    //tree4
    ctx.beginPath();
    //ctx.moveTo(950,420);
    //ctx.bezierCurveTo(950,420,930,400,940,390);
    //ctx.bezierCurveTo(940,390,930,370,940,360); 
    //ctx.bezierCurveTo(940,360,1000,350,1020,360);
    //ctx.bezierCurveTo(1020,360,1030,370,1040,390);
    //ctx.bezierCurveTo(1040,390,1050,400,950,420);
    ctx.strokeStyle="#BCD4E0";
    ctx.fillStyle="#BCD4E0";
    ctx.fill();
    ctx.stroke();
    ctx.beginPath();
    ctx.rect(980,400,10,50);
    ctx.fillStyle="#BCD4E0";
    ctx.fill();
    ctx.stroke();


    // if image is <= Canvas Size
    if (imgW <= CanvasXSize) {
        // reset, start from beginning
        if (x > CanvasXSize) {
            x = -imgW + x;
        }
        // draw additional image1
        if (x > 0) {
            ctx.drawImage(img, -imgW + x, y, imgW, imgH);
        }
        // draw additional image2
        if (x - imgW > 0) {
            ctx.drawImage(img, -imgW * 2 + x, y, imgW, imgH);
        }
    }

    // image is > Canvas Size
    else {
        // reset, start from beginning
        if (x > (CanvasXSize)) {
            x = CanvasXSize - imgW;
        }
        // draw aditional image
        if (x > (CanvasXSize-imgW)) {
            ctx.drawImage(img, x - imgW + 1, y, imgW, imgH);
        }
    }


    // draw image
    ctx.drawImage(img, x, y,imgW, imgH);
    // amount to move
    x += 2;

    
}



  

</script>
</body>
</html>
